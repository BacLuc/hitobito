- title(page_title)

.pagination
  %ul
    - year_range.each do |year|
      %li{class: "#{'active' if year == @year}"}= link_to(year.to_s, event_courses_path({year: year}.merge(group_param)))


%table.table
  - courses_by_kinds.each_entry do |kind, events|
    %tr
      %td{colspan: can?(:manage_courses, current_user) ? 4 : 3}
        %br/
        %h2= kind 
    - events.each do |event| 
      %tr
        %td
          %strong
            = event.labeled_link
        %td= event.dates_full
        - if can?(:manage_courses, current_user)
          %td= event.booking_info
          %td= event.state_translated
        - else
          %td
            - if event.application_possible? && event.can_create_participation?
              = action_button 'Anmelden', new_event_participation_path(event) 
